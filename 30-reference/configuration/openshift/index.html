<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Automated deployer of OpenShift cluster and IBM Cloud Paks"><meta name=author content=Author><link href=https://ibm.github.io/cloud-pak-deployer/30-reference/configuration/openshift/ rel=canonical><link href=../infrastructure/ rel=prev><link href=../redhat-sso/ rel=next><link rel=icon href=../../../assets/images/favicon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.7.2"><title>OpenShift - Cloud Pak Deployer</title><link rel=stylesheet href=../../../assets/stylesheets/main.484c7ddc.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../../css/extra.css><script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#openshift-clusters class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--shadow" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../../.. title="Cloud Pak Deployer" class="md-header__button md-logo" aria-label="Cloud Pak Deployer" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Cloud Pak Deployer </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> OpenShift </span> </div> </div> </div> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/IBM/cloud-pak-deployer title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg> </div> <div class=md-source__repository> Cloud Pak Deployer </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../../.. title="Cloud Pak Deployer" class="md-nav__button md-logo" aria-label="Cloud Pak Deployer" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> Cloud Pak Deployer </label> <div class=md-nav__source> <a href=https://github.com/IBM/cloud-pak-deployer title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg> </div> <div class=md-source__repository> Cloud Pak Deployer </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../.. class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class=md-nav__item> <a href=../../../01-introduction/current-state-and-support/ class=md-nav__link> <span class=md-ellipsis> Current state </span> </a> </li> <li class=md-nav__item> <a href=../../../05-install/install/ class=md-nav__link> <span class=md-ellipsis> Installing Cloud Pak Deployer </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex=0> <span class=md-ellipsis> Using Cloud Pak Deployer </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Using Cloud Pak Deployer </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../10-use-deployer/1-overview/overview/ class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_2> <label class=md-nav__link for=__nav_4_2 id=__nav_4_2_label tabindex=0> <span class=md-ellipsis> Run </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_2_label aria-expanded=false> <label class=md-nav__title for=__nav_4_2> <span class="md-nav__icon md-icon"></span> Run </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../10-use-deployer/3-run/run/ class=md-nav__link> <span class=md-ellipsis> Running Cloud Pak Deployer </span> </a> </li> <li class=md-nav__item> <a href=../../../10-use-deployer/3-run/existing-openshift/ class=md-nav__link> <span class=md-ellipsis> Existing OpenShift </span> </a> </li> <li class=md-nav__item> <a href=../../../10-use-deployer/3-run/existing-openshift-console/ class=md-nav__link> <span class=md-ellipsis> Existing OpenShift using Console </span> </a> </li> <li class=md-nav__item> <a href=../../../10-use-deployer/3-run/existing-openshift-wizard/ class=md-nav__link> <span class=md-ellipsis> Existing OpenShift using Deployer Wizard </span> </a> </li> <li class=md-nav__item> <a href=../../../10-use-deployer/3-run/ibm-cloud/ class=md-nav__link> <span class=md-ellipsis> IBM Cloud </span> </a> </li> <li class=md-nav__item> <a href=../../../10-use-deployer/3-run/ibm-fusion/ class=md-nav__link> <span class=md-ellipsis> IBM Fusion </span> </a> </li> <li class=md-nav__item> <a href=../../../10-use-deployer/3-run/aws-rosa/ class=md-nav__link> <span class=md-ellipsis> AWS ROSA </span> </a> </li> <li class=md-nav__item> <a href=../../../10-use-deployer/3-run/aws-self-managed/ class=md-nav__link> <span class=md-ellipsis> AWS Self-managed </span> </a> </li> <li class=md-nav__item> <a href=../../../10-use-deployer/3-run/azure-aro/ class=md-nav__link> <span class=md-ellipsis> Azure ARO </span> </a> </li> <li class=md-nav__item> <a href=../../../10-use-deployer/3-run/azure-self-managed/ class=md-nav__link> <span class=md-ellipsis> Azure Self-managed </span> </a> </li> <li class=md-nav__item> <a href=../../../10-use-deployer/3-run/vsphere/ class=md-nav__link> <span class=md-ellipsis> vSphere </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_3> <label class=md-nav__link for=__nav_4_3 id=__nav_4_3_label tabindex=0> <span class=md-ellipsis> Post-run </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_3_label aria-expanded=false> <label class=md-nav__title for=__nav_4_3> <span class="md-nav__icon md-icon"></span> Post-run </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../10-use-deployer/5-post-run/post-run/ class=md-nav__link> <span class=md-ellipsis> Post-run changes </span> </a> </li> <li class=md-nav__item> <a href=../../../10-use-deployer/7-command/command/ class=md-nav__link> <span class=md-ellipsis> Running commands </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4_4> <label class=md-nav__link for=__nav_4_4 id=__nav_4_4_label tabindex=0> <span class=md-ellipsis> Destroy </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_4_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4_4> <span class="md-nav__icon md-icon"></span> Destroy </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../10-use-deployer/9-destroy/destroy/ class=md-nav__link> <span class=md-ellipsis> Destroy cluster </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5 checked> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex=0> <span class=md-ellipsis> Reference </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=true> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Reference </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_1 checked> <label class=md-nav__link for=__nav_5_1 id=__nav_5_1_label tabindex=0> <span class=md-ellipsis> Configuration </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_1_label aria-expanded=true> <label class=md-nav__title for=__nav_5_1> <span class="md-nav__icon md-icon"></span> Configuration </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../topologies/ class=md-nav__link> <span class=md-ellipsis> Topologies </span> </a> </li> <li class=md-nav__item> <a href=../cpd-objects/ class=md-nav__link> <span class=md-ellipsis> Objects overview </span> </a> </li> <li class=md-nav__item> <a href=../cpd-global-config/ class=md-nav__link> <span class=md-ellipsis> Global config </span> </a> </li> <li class=md-nav__item> <a href=../vault/ class=md-nav__link> <span class=md-ellipsis> Vault </span> </a> </li> <li class=md-nav__item> <a href=../infrastructure/ class=md-nav__link> <span class=md-ellipsis> Infrastructure </span> </a> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_1_6 checked> <label class=md-nav__link for=__nav_5_1_6 id=__nav_5_1_6_label tabindex=0> <span class=md-ellipsis> OpenShift </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_5_1_6_label aria-expanded=true> <label class=md-nav__title for=__nav_5_1_6> <span class="md-nav__icon md-icon"></span> OpenShift </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> OpenShift </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> OpenShift </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#openshift class=md-nav__link> <span class=md-ellipsis> openshift </span> </a> <nav class=md-nav aria-label=openshift> <ul class=md-nav__list> <li class=md-nav__item> <a href=#existing-openshift class=md-nav__link> <span class=md-ellipsis> Existing OpenShift </span> </a> <nav class=md-nav aria-label="Existing OpenShift"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#property-explanation-for-existing-openshift-clusters class=md-nav__link> <span class=md-ellipsis> Property explanation for existing OpenShift clusters </span> </a> <nav class=md-nav aria-label="Property explanation for existing OpenShift clusters"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#infastructuretype---type-of-infrastructure class=md-nav__link> <span class=md-ellipsis> infastructure.type - Type of infrastructure </span> </a> </li> <li class=md-nav__item> <a href=#openshift_storage---openshift-storage-definitions class=md-nav__link> <span class=md-ellipsis> openshift_storage[] - OpenShift storage definitions </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#supported-storage-types class=md-nav__link> <span class=md-ellipsis> Supported storage types </span> </a> <nav class=md-nav aria-label="Supported storage types"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#openshift-on-ibm-cloud-roks class=md-nav__link> <span class=md-ellipsis> OpenShift on IBM Cloud (ROKS) </span> </a> <nav class=md-nav aria-label="OpenShift on IBM Cloud (ROKS)"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#property-explanation-openshift-clusters-on-ibm-cloud-roks class=md-nav__link> <span class=md-ellipsis> Property explanation OpenShift clusters on IBM Cloud (ROKS) </span> </a> <nav class=md-nav aria-label="Property explanation OpenShift clusters on IBM Cloud (ROKS)"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#openshift_storage---openshift-storage-definitions_1 class=md-nav__link> <span class=md-ellipsis> openshift_storage[] - OpenShift storage definitions </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#openshift-on-vsphere class=md-nav__link> <span class=md-ellipsis> OpenShift on vSphere </span> </a> <nav class=md-nav aria-label="OpenShift on vSphere"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#property-explanation-openshift-clusters-on-vsphere class=md-nav__link> <span class=md-ellipsis> Property explanation OpenShift clusters on vSphere </span> </a> <nav class=md-nav aria-label="Property explanation OpenShift clusters on vSphere"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#openshift_storage---openshift-storage-definitions_2 class=md-nav__link> <span class=md-ellipsis> openshift_storage[] - OpenShift storage definitions </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#openshift-on-aws---self-managed class=md-nav__link> <span class=md-ellipsis> OpenShift on AWS - self-managed </span> </a> <nav class=md-nav aria-label="OpenShift on AWS - self-managed"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#property-explanation-openshift-clusters-on-aws-self-managed class=md-nav__link> <span class=md-ellipsis> Property explanation OpenShift clusters on AWS (self-managed) </span> </a> <nav class=md-nav aria-label="Property explanation OpenShift clusters on AWS (self-managed)"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#openshift_storage---openshift-storage-definitions_3 class=md-nav__link> <span class=md-ellipsis> openshift_storage[] - OpenShift storage definitions </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#openshift-on-aws---rosa class=md-nav__link> <span class=md-ellipsis> OpenShift on AWS - ROSA </span> </a> <nav class=md-nav aria-label="OpenShift on AWS - ROSA"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#property-explanation-openshift-clusters-on-aws-rosa class=md-nav__link> <span class=md-ellipsis> Property explanation OpenShift clusters on AWS (ROSA) </span> </a> <nav class=md-nav aria-label="Property explanation OpenShift clusters on AWS (ROSA)"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#openshift_storage---openshift-storage-definitions_4 class=md-nav__link> <span class=md-ellipsis> openshift_storage[] - OpenShift storage definitions </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#openshift-on-microsoft-azure---aro class=md-nav__link> <span class=md-ellipsis> OpenShift on Microsoft Azure - ARO </span> </a> <nav class=md-nav aria-label="OpenShift on Microsoft Azure - ARO"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#property-explanation-for-openshift-cluster-on-microsoft-azure-aro class=md-nav__link> <span class=md-ellipsis> Property explanation for OpenShift cluster on Microsoft Azure (ARO) </span> </a> <nav class=md-nav aria-label="Property explanation for OpenShift cluster on Microsoft Azure (ARO)"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#openshift_storage---openshift-storage-definitions_5 class=md-nav__link> <span class=md-ellipsis> openshift_storage[] - OpenShift storage definitions </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#openshift-on-microsoft-azure---self-managed class=md-nav__link> <span class=md-ellipsis> OpenShift on Microsoft Azure - Self-managed </span> </a> <nav class=md-nav aria-label="OpenShift on Microsoft Azure - Self-managed"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#property-explanation-for-openshift-cluster-on-microsoft-azure---self-managed class=md-nav__link> <span class=md-ellipsis> Property explanation for OpenShift cluster on Microsoft Azure - Self-managed </span> </a> <nav class=md-nav aria-label="Property explanation for OpenShift cluster on Microsoft Azure - Self-managed"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#openshift_storage---openshift-storage-definitions_6 class=md-nav__link> <span class=md-ellipsis> openshift_storage[] - OpenShift storage definitions </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_1_6_2> <label class=md-nav__link for=__nav_5_1_6_2 id=__nav_5_1_6_2_label tabindex=0> <span class=md-ellipsis> Identity and Access Management </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=4 aria-labelledby=__nav_5_1_6_2_label aria-expanded=false> <label class=md-nav__title for=__nav_5_1_6_2> <span class="md-nav__icon md-icon"></span> Identity and Access Management </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../redhat-sso/ class=md-nav__link> <span class=md-ellipsis> Red Hat SSO </span> </a> </li> <li class=md-nav__item> <a href=../ldap/ class=md-nav__link> <span class=md-ellipsis> LDAP </span> </a> </li> <li class=md-nav__item> <a href=../demo-openldap/ class=md-nav__link> <span class=md-ellipsis> Demo OpenLDAP </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../ibm-storage/ class=md-nav__link> <span class=md-ellipsis> IBM Storage </span> </a> </li> <li class=md-nav__item> <a href=../monitoring/ class=md-nav__link> <span class=md-ellipsis> Monitoring </span> </a> </li> <li class=md-nav__item> <a href=../logging-auditing/ class=md-nav__link> <span class=md-ellipsis> Logging and auditing </span> </a> </li> <li class=md-nav__item> <a href=../dns/ class=md-nav__link> <span class=md-ellipsis> DNS </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../cloud-pak/ class=md-nav__link> <span class=md-ellipsis> Cloud Paks </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_1_8> <label class=md-nav__link for=__nav_5_1_8 id=__nav_5_1_8_label tabindex=0> <span class=md-ellipsis> Cloud Pak for Data </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=3 aria-labelledby=__nav_5_1_8_label aria-expanded=false> <label class=md-nav__title for=__nav_5_1_8> <span class="md-nav__icon md-icon"></span> Cloud Pak for Data </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../cp4d-cartridges/ class=md-nav__link> <span class=md-ellipsis> Cartridges </span> </a> </li> <li class=md-nav__item> <a href=../cp4d-instances/ class=md-nav__link> <span class=md-ellipsis> Instances </span> </a> </li> <li class=md-nav__item> <a href=../cp4d-connections/ class=md-nav__link> <span class=md-ellipsis> Platform connections </span> </a> </li> <li class=md-nav__item> <a href=../cp4d-access-control/ class=md-nav__link> <span class=md-ellipsis> Access Control </span> </a> </li> <li class=md-nav__item> <a href=../cp4d-assets/ class=md-nav__link> <span class=md-ellipsis> Assets </span> </a> </li> <li class=md-nav__item> <a href=../monitoring/ class=md-nav__link> <span class=md-ellipsis> Monitoring </span> </a> </li> <li class=md-nav__item> <a href=../logging-auditing/ class=md-nav__link> <span class=md-ellipsis> Logging and auditing </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../cp4ba/ class=md-nav__link> <span class=md-ellipsis> Cloud Pak for Business Automation </span> </a> </li> <li class=md-nav__item> <a href=../private-registry/ class=md-nav__link> <span class=md-ellipsis> Private registries </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5_2> <label class=md-nav__link for=__nav_5_2 id=__nav_5_2_label tabindex=0> <span class=md-ellipsis> Process </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_5_2_label aria-expanded=false> <label class=md-nav__title for=__nav_5_2> <span class="md-nav__icon md-icon"></span> Process </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../process/overview/ class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=../../process/validate/ class=md-nav__link> <span class=md-ellipsis> Validate </span> </a> </li> <li class=md-nav__item> <a href=../../process/prepare/ class=md-nav__link> <span class=md-ellipsis> Prepare </span> </a> </li> <li class=md-nav__item> <a href=../../process/provision-infra/ class=md-nav__link> <span class=md-ellipsis> Provision infra </span> </a> </li> <li class=md-nav__item> <a href=../../process/configure-infra/ class=md-nav__link> <span class=md-ellipsis> Configure infra </span> </a> </li> <li class=md-nav__item> <a href=../../process/install-cloud-pak/ class=md-nav__link> <span class=md-ellipsis> Install Cloud Paks </span> </a> </li> <li class=md-nav__item> <a href=../../process/configure-cloud-pak/ class=md-nav__link> <span class=md-ellipsis> Configure Cloud Paks </span> </a> </li> <li class=md-nav__item> <a href=../../process/deploy-assets/ class=md-nav__link> <span class=md-ellipsis> Deploy assets </span> </a> </li> <li class=md-nav__item> <a href=../../process/smoke-tests/ class=md-nav__link> <span class=md-ellipsis> Smoke tests </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../timings/ class=md-nav__link> <span class=md-ellipsis> Timings </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6 id=__nav_6_label tabindex=0> <span class=md-ellipsis> Troubleshooting </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Troubleshooting </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../40-troubleshooting/cp4d-uninstall/ class=md-nav__link> <span class=md-ellipsis> Cloud Pak for Data uninstall </span> </a> </li> <li class=md-nav__item> <a href=../../../40-troubleshooting/ibm-cloud-access-nfs-server/ class=md-nav__link> <span class=md-ellipsis> Access NFS server on IBM Cloud </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7> <label class=md-nav__link for=__nav_7 id=__nav_7_label tabindex=0> <span class=md-ellipsis> Advanced </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_7_label aria-expanded=false> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> Advanced </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../50-advanced/build-image-and-run-deployer-on-openshift/ class=md-nav__link> <span class=md-ellipsis> Build image and run deployer on OpenShift </span> </a> </li> <li class=md-nav__item> <a href=../../../50-advanced/private-registry-and-air-gapped/ class=md-nav__link> <span class=md-ellipsis> Private registry and air-gapped </span> </a> </li> <li class=md-nav__item> <a href=../../../50-advanced/alternative-repo-reg/ class=md-nav__link> <span class=md-ellipsis> Using alternative CASE repositories and registries </span> </a> </li> <li class=md-nav__item> <a href=../../../50-advanced/advanced-configuration/ class=md-nav__link> <span class=md-ellipsis> Advanced configuration </span> </a> </li> <li class=md-nav__item> <a href=../../../50-advanced/locations-to-whitelist/ class=md-nav__link> <span class=md-ellipsis> Locations to whitelist </span> </a> </li> <li class=md-nav__item> <a href=../../../50-advanced/apply-node-settings-non-mco/ class=md-nav__link> <span class=md-ellipsis> Apply node settings to non-MCO clusters </span> </a> </li> <li class=md-nav__item> <a href=../../../50-advanced/cp4d-pre-release/ class=md-nav__link> <span class=md-ellipsis> Installing pre-releases of Cloud Pak for DAta </span> </a> </li> <li class=md-nav__item> <a href=../../../50-advanced/gitops/ class=md-nav__link> <span class=md-ellipsis> GitOps </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_8> <label class=md-nav__link for=__nav_8 id=__nav_8_label tabindex=0> <span class=md-ellipsis> Development </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_8_label aria-expanded=false> <label class=md-nav__title for=__nav_8> <span class="md-nav__icon md-icon"></span> Development </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../../80-development/deployer-development-setup/ class=md-nav__link> <span class=md-ellipsis> Deployer development setup </span> </a> </li> <li class=md-nav__item> <a href=../../../80-development/doc-development-setup/ class=md-nav__link> <span class=md-ellipsis> Deployer documentation development setup </span> </a> </li> <li class=md-nav__item> <a href=../../../80-development/doc-guidelines/ class=md-nav__link> <span class=md-ellipsis> Deployer documentation guidelines </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#openshift class=md-nav__link> <span class=md-ellipsis> openshift </span> </a> <nav class=md-nav aria-label=openshift> <ul class=md-nav__list> <li class=md-nav__item> <a href=#existing-openshift class=md-nav__link> <span class=md-ellipsis> Existing OpenShift </span> </a> <nav class=md-nav aria-label="Existing OpenShift"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#property-explanation-for-existing-openshift-clusters class=md-nav__link> <span class=md-ellipsis> Property explanation for existing OpenShift clusters </span> </a> <nav class=md-nav aria-label="Property explanation for existing OpenShift clusters"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#infastructuretype---type-of-infrastructure class=md-nav__link> <span class=md-ellipsis> infastructure.type - Type of infrastructure </span> </a> </li> <li class=md-nav__item> <a href=#openshift_storage---openshift-storage-definitions class=md-nav__link> <span class=md-ellipsis> openshift_storage[] - OpenShift storage definitions </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#supported-storage-types class=md-nav__link> <span class=md-ellipsis> Supported storage types </span> </a> <nav class=md-nav aria-label="Supported storage types"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#openshift-on-ibm-cloud-roks class=md-nav__link> <span class=md-ellipsis> OpenShift on IBM Cloud (ROKS) </span> </a> <nav class=md-nav aria-label="OpenShift on IBM Cloud (ROKS)"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#property-explanation-openshift-clusters-on-ibm-cloud-roks class=md-nav__link> <span class=md-ellipsis> Property explanation OpenShift clusters on IBM Cloud (ROKS) </span> </a> <nav class=md-nav aria-label="Property explanation OpenShift clusters on IBM Cloud (ROKS)"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#openshift_storage---openshift-storage-definitions_1 class=md-nav__link> <span class=md-ellipsis> openshift_storage[] - OpenShift storage definitions </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#openshift-on-vsphere class=md-nav__link> <span class=md-ellipsis> OpenShift on vSphere </span> </a> <nav class=md-nav aria-label="OpenShift on vSphere"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#property-explanation-openshift-clusters-on-vsphere class=md-nav__link> <span class=md-ellipsis> Property explanation OpenShift clusters on vSphere </span> </a> <nav class=md-nav aria-label="Property explanation OpenShift clusters on vSphere"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#openshift_storage---openshift-storage-definitions_2 class=md-nav__link> <span class=md-ellipsis> openshift_storage[] - OpenShift storage definitions </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#openshift-on-aws---self-managed class=md-nav__link> <span class=md-ellipsis> OpenShift on AWS - self-managed </span> </a> <nav class=md-nav aria-label="OpenShift on AWS - self-managed"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#property-explanation-openshift-clusters-on-aws-self-managed class=md-nav__link> <span class=md-ellipsis> Property explanation OpenShift clusters on AWS (self-managed) </span> </a> <nav class=md-nav aria-label="Property explanation OpenShift clusters on AWS (self-managed)"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#openshift_storage---openshift-storage-definitions_3 class=md-nav__link> <span class=md-ellipsis> openshift_storage[] - OpenShift storage definitions </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#openshift-on-aws---rosa class=md-nav__link> <span class=md-ellipsis> OpenShift on AWS - ROSA </span> </a> <nav class=md-nav aria-label="OpenShift on AWS - ROSA"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#property-explanation-openshift-clusters-on-aws-rosa class=md-nav__link> <span class=md-ellipsis> Property explanation OpenShift clusters on AWS (ROSA) </span> </a> <nav class=md-nav aria-label="Property explanation OpenShift clusters on AWS (ROSA)"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#openshift_storage---openshift-storage-definitions_4 class=md-nav__link> <span class=md-ellipsis> openshift_storage[] - OpenShift storage definitions </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#openshift-on-microsoft-azure---aro class=md-nav__link> <span class=md-ellipsis> OpenShift on Microsoft Azure - ARO </span> </a> <nav class=md-nav aria-label="OpenShift on Microsoft Azure - ARO"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#property-explanation-for-openshift-cluster-on-microsoft-azure-aro class=md-nav__link> <span class=md-ellipsis> Property explanation for OpenShift cluster on Microsoft Azure (ARO) </span> </a> <nav class=md-nav aria-label="Property explanation for OpenShift cluster on Microsoft Azure (ARO)"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#openshift_storage---openshift-storage-definitions_5 class=md-nav__link> <span class=md-ellipsis> openshift_storage[] - OpenShift storage definitions </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#openshift-on-microsoft-azure---self-managed class=md-nav__link> <span class=md-ellipsis> OpenShift on Microsoft Azure - Self-managed </span> </a> <nav class=md-nav aria-label="OpenShift on Microsoft Azure - Self-managed"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#property-explanation-for-openshift-cluster-on-microsoft-azure---self-managed class=md-nav__link> <span class=md-ellipsis> Property explanation for OpenShift cluster on Microsoft Azure - Self-managed </span> </a> <nav class=md-nav aria-label="Property explanation for OpenShift cluster on Microsoft Azure - Self-managed"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#openshift_storage---openshift-storage-definitions_6 class=md-nav__link> <span class=md-ellipsis> openshift_storage[] - OpenShift storage definitions </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=openshift-clusters>OpenShift cluster(s)<a class=headerlink href=#openshift-clusters title="Permanent link">ðŸ”—</a></h1> <p>You can configure one or more OpenShift clusters that will be layed down on the specified infrastructure, or which already exist.</p> <p>Dependent on the cloud platform on which the OpenShift cluster will be provisioned, different installation methods apply. For IBM Cloud, Terraform is used, whereas for vSphere the IPI installer is used. On AWS (ROSA), the <code>rosa</code> CLI is used to create and modify ROSA clusters. Each of the different platforms have slightly different properties for the <code>openshift</code> objects.</p> <h2 id=openshift><code>openshift</code><a class=headerlink href=#openshift title="Permanent link">ðŸ”—</a></h2> <p>For OpenShift, there are 5 flavours:</p> <ul> <li><a href=#existing-openshift>Existing OpenShift</a></li> <li><a href=#openshift-on-ibm-cloud-roks>OpenShift on IBM Cloud</a></li> <li><a href=#openshift-on-aws---rosa>OpenShift on AWS - ROSA</a></li> <li><a href=#openshift-on-aws---self-managed>OpenShift on AWS - self-managed</a></li> <li><a href=#openshift-on-microsoft-azure---aro>OpenShift on Microsoft Azure - ARO</a></li> <li><a href=#openshift-on-microsoft-azure---self-managed>OpenShift on Microsoft Azure - self-managed</a></li> <li><a href=#openshift-on-vsphere>OpenShift on vSphere</a></li> </ul> <p>Every OpenShift cluster definition of a few mandatory properties that control which version of OpenShift is installed (except for Existing OpenShift), the number and flavour of control plane and compute nodes and the underlying infrastructure, dependent on the cloud platform on which it is provisioned. Storage is a mandatory element for every <code>openshift</code> definition. For a list of supported storage types per cloud platform, refer to <a href=#supported-storage-types>Supported storage types</a>.</p> <p>Additionally, one can configure <a href=../dns/ >Upstream DNS Servers</a> and <a href=../logging-auditing/ >OpenShift logging</a>.</p> <p>The Multicloud Object Gateway (MCG) supports access to s3-compatible object storage via an underpinning block/file storage class, through the Noobaa operator. Some Cloud Pak for Data services such as Watson Assistant need object storage to run. MCG does not need to be installed if OpenShift Data Foundation is also installed as the operator includes Noobaa.</p> <h3 id=existing-openshift>Existing OpenShift<a class=headerlink href=#existing-openshift title="Permanent link">ðŸ”—</a></h3> <p>When using the Cloud Pak Deployer on an existing OpenShift cluster, the scripts assume that the cluster is already operational and that any storage classes have been pre-created. The deployer accesses the cluster through a vault secret with the kubeconfig information; the name of the secret is <code>&lt;name&gt;-kubeconfig</code>.</p> <div class=highlight><pre><span></span><code>openshift:
- name: sample
  ocp_version: detect
  cluster_name: sample
  domain_name: example.com
  cloud_native_toolkit: False
  oadp: False
  infrastructure:
    type: standard
    processor_architecture: amd64
  upstream_dns:
  - name: sample-dns
     zones:
     - example.com
     dns_servers:
     - 172.31.2.73:53
  gpu:
    install: auto
  openshift_ai:
    install: auto
    channel: auto
  mcg:
    install: True
    storage_type: storage-class
    storage_class: managed-nfs-storage
  openshift_storage:
  - storage_name: nfs-storage
    storage_type: nfs
    # ocp_storage_class_file: managed-nfs-storage
    # ocp_storage_class_block: managed-nfs-storage
</code></pre></div> <h4 id=property-explanation-for-existing-openshift-clusters>Property explanation for existing OpenShift clusters<a class=headerlink href=#property-explanation-for-existing-openshift-clusters title="Permanent link">ðŸ”—</a></h4> <table> <thead> <tr> <th>Property</th> <th>Description</th> <th>Mandatory</th> <th>Allowed values</th> </tr> </thead> <tbody> <tr> <td>name</td> <td>Name of the OpenShift cluster</td> <td>Yes</td> <td></td> </tr> <tr> <td>ocp_version</td> <td>OpenShift version of the cluster. For existing OpenShift you can use <code>detect</code></td> <td>Yes</td> <td>&gt;= 4.6</td> </tr> <tr> <td>cluster_name</td> <td>Name of the cluster (part of the FQDN)</td> <td>Yes</td> <td></td> </tr> <tr> <td>domain_name</td> <td>Domain name of the cluster (part of the FQDN)</td> <td>Yes</td> <td></td> </tr> <tr> <td>cloud_native_toolkit</td> <td>Must the Cloud Native Toolkit (OpenShift GitOps) be installed?</td> <td>No</td> <td>True, False (default)</td> </tr> <tr> <td>oadp</td> <td>Must the OpenShift Advanced Data Protection operator be installed</td> <td>No</td> <td>True, False (default)</td> </tr> <tr> <td>infrastructure.type</td> <td>Infrastructure OpenShift is deployed on. See below for additional explanation</td> <td>detect (default)</td> <td></td> </tr> <tr> <td>infrastructure.processor_architecture</td> <td>Architecture of the processor that the OpenShift cluster is deployed on</td> <td>No</td> <td>amd64 (default), ppc64le, s390x</td> </tr> <tr> <td>openshift_logging[]</td> <td>Logging attributes for OpenShift cluster, see <a href=../logging-auditing/ >OpenShift logging</a></td> <td>No</td> <td></td> </tr> <tr> <td>upstream_dns[]</td> <td>Upstream DNS servers(s), see <a href=../dns/ >Upstream DNS Servers</a></td> <td>No</td> <td></td> </tr> <tr> <td>gpu</td> <td>Control Node Feature Discovery and NVIDIA GPU operators</td> <td>No</td> <td></td> </tr> <tr> <td>gpu.install</td> <td>Must Node Feature Discovery and NVIDIA GPU operators be installed (Once installed, False does not uninstall). <code>auto</code> will install the operators if needed by any of the Cloud Pak/watsonx components</td> <td>Yes</td> <td>auto, True, False</td> </tr> <tr> <td>openshift_ai</td> <td>Control installation of OpenShift AI</td> <td>No</td> <td></td> </tr> <tr> <td>openshift_ai.install</td> <td>Must OpenShift AI be installed (Once installed, False does not uninstall). <code>auto</code> will install OpenShift AI if needed by any of the Cloud Pak/watsonx components</td> <td>Yes</td> <td>auto, True, False</td> </tr> <tr> <td>openshift_ai.channel</td> <td>Which oeprator channel must be installed</td> <td>No</td> <td>auto (default), stable, &hellip;</td> </tr> <tr> <td>mcg</td> <td>Multicloud Object Gateway properties</td> <td>No</td> <td></td> </tr> <tr> <td>mcg.install</td> <td>Must Multicloud Object Gateway be installed (Once installed, False does not uninstall)</td> <td>Yes</td> <td>True, False</td> </tr> <tr> <td>mcg.storage_type</td> <td>Type of storage supporting the object Noobaa object storage</td> <td>Yes</td> <td>storage-class</td> </tr> <tr> <td>mcg.storage_class</td> <td>Storage class supporting the Noobaa object storage</td> <td>Yes</td> <td>Existing storage class</td> </tr> <tr> <td>openshift_storage[]</td> <td>List of storage definitions to be defined on OpenShift, see below for further explanation</td> <td>Yes</td> <td></td> </tr> </tbody> </table> <h5 id=infastructuretype---type-of-infrastructure>infastructure.type - Type of infrastructure<a class=headerlink href=#infastructuretype---type-of-infrastructure title="Permanent link">ðŸ”—</a></h5> <p>When deploying on existing OpenShift, the underlying infrastructure can pose some restrictions on capabilities available. For example, Red Hat OpenShift on IBM Cloud (aka ROKS) does not include the Machine Config Operator and ROSA on AWS does not allow to set labels for Machine Config Pools. This means that node settings required for Cloud Pak for Data must be applied in a non-standard manner.</p> <p>The following values are allowed for <code>infrastructure.type</code>:</p> <ul> <li><code>detect</code> (default): The deployer will attempt to detect the underlying cloud infrastructure. This is done by retrieving the existing storage classes and then inferring the cloud type.</li> <li><code>standard</code>: The deployer will assume a standard OpenShift cluster with no further restrictions. This is the fallback value for <code>detect</code> if the underlying infra cannot be detected. </li> <li><code>aws-self-managed</code>: A self-managed OpenShift cluster on AWS. No restrictions.</li> <li><code>aws-rosa</code>: Managed Red Hat OpenShift on AWS. Some restrictions with regards to Machine Config Pools apply.</li> <li><code>azure-aro</code>: Managed Red Hat OpenShift on Azure. No known restrictions.</li> <li><code>vsphere</code>: OpenShift on vSphere. No known restrictions.</li> </ul> <h5 id=openshift_storage---openshift-storage-definitions>openshift_storage[] - OpenShift storage definitions<a class=headerlink href=#openshift_storage---openshift-storage-definitions title="Permanent link">ðŸ”—</a></h5> <table> <thead> <tr> <th>Property</th> <th>Description</th> <th>Mandatory</th> <th>Allowed values</th> </tr> </thead> <tbody> <tr> <td>storage_name</td> <td>Name of the storage definition, to be referenced by the Cloud Pak</td> <td>Yes</td> <td></td> </tr> <tr> <td>storage_type</td> <td>Type of storage class to use in the OpenShift cluster</td> <td>Yes</td> <td>nfs, odf, aws-elastic, auto, custom</td> </tr> <tr> <td>ocp_storage_class_file</td> <td>OpenShift storage class to use for file storage if different from default for storage_type</td> <td>Yes if <code>storage_type</code> is <code>custom</code></td> <td></td> </tr> <tr> <td>ocp_storage_class_block</td> <td>OpenShift storage class to use for block storage if different from default for storage_type</td> <td>Yes if <code>storage_type</code> is <code>custom</code></td> <td></td> </tr> </tbody> </table> <div class="admonition info"> <p class=admonition-title>Info</p> <p>The custom storage_type can be used in case you want to use a non-standard storage class(es). In this case the storage class(es) must be already configured on the OCP cluster and set in the respective ocp_storage_class_file and ocp_storage_class_block variables</p> </div> <div class="admonition info"> <p class=admonition-title>Info</p> <p>The auto storage_type will let the deployer automatically detect the storage type based on the existing storage classes in the OpenShift cluster.</p> </div> <h2 id=supported-storage-types>Supported storage types<a class=headerlink href=#supported-storage-types title="Permanent link">ðŸ”—</a></h2> <p>An <code>openshift</code> definition always includes the type(s) of storage that it will provide. When the OpenShift cluster is provisioned by the deployer, the necessary infrastructure and storage class(es) are also configured. In case an existing OpenShift cluster is referenced by the configuration, the storage classes are expected to exist already.</p> <p>The table below indicates which storage classes are supported by the Cloud Pak Deployer per cloud infrastructure.</p> <div class="admonition warning"> <p class=admonition-title>Warning</p> <p>The ability to provision or use certain storage types does not imply support by the Cloud Paks or by OpenShift itself. There are several restrictions for production use OpenShift Data Foundation, for example when on ROSA.</p> </div> <table> <thead> <tr> <th>Cloud Provider</th> <th>NFS Storage</th> <th>ODF Storage</th> <th>Portworx</th> <th>Elastic</th> <th>Custom (2)</th> </tr> </thead> <tbody> <tr> <td>ibm-cloud</td> <td>Yes</td> <td>Yes</td> <td>Yes</td> <td>No</td> <td>Yes</td> </tr> <tr> <td>vsphere</td> <td>Yes (1)</td> <td>Yes</td> <td>No</td> <td>No</td> <td>Yes</td> </tr> <tr> <td>aws</td> <td>No</td> <td>Yes</td> <td>No</td> <td>Yes (3)</td> <td>Yes</td> </tr> <tr> <td>azure</td> <td>No</td> <td>Yes</td> <td>No</td> <td>No</td> <td>Yes</td> </tr> <tr> <td>existing-ocp</td> <td>Yes</td> <td>Yes</td> <td>No</td> <td>Yes</td> <td>Yes</td> </tr> </tbody> </table> <ul> <li>(1) An existing NFS server can be specified so that the deployer configures the <code>managed-nfs-storage</code> storage class. The deployer will not provision or change the NFS server itself.</li> <li>(2) If you specify a <code>custom</code> storage type, you must specify the storage class to be used for block (RWO) and file (RWX) storage.</li> <li>(3) Specifying this storage type means that Elastic File Storage (EFS) and Elastic Block Storage (EBS) storage classes will be used. For EFS, an <code>nfs_server</code> object is required to define the "file server" storage on AWS.</li> </ul> <h3 id=openshift-on-ibm-cloud-roks>OpenShift on IBM Cloud (ROKS)<a class=headerlink href=#openshift-on-ibm-cloud-roks title="Permanent link">ðŸ”—</a></h3> <p>VPC-based OpenShift cluster on IBM Cloud, using the Red Hat OpenShift Kubernetes Services (ROKS). <div class=highlight><pre><span></span><code>openshift:
- name: sample
  managed: True
  ocp_version: 4.8
  compute_flavour: bx2.16x64
  secondary_storage: 900gb.10iops-tier
  compute_nodes: 3
  cloud_native_toolkit: False
  oadp: False
  infrastructure:
    type: vpc
    vpc_name: sample
    subnets:
    - sample-subnet-zone-1
    - sample-subnet-zone-2
    - sample-subnet-zone-3
    cos_name: sample-cos
    private_only: False
    deny_node_ports: False
  upstream_dns:
  - name: sample-dns
     zones:
     - example.com
     dns_servers:
     - 172.31.2.73:53
  mcg:
    install: True
    storage_type: storage-class
    storage_class: managed-nfs-storage
  openshift_ai:
    install: auto
    channel: auto
  openshift_storage:
  - storage_name: nfs-storage
    storage_type: nfs
    nfs_server_name: sample-nfs
  - storage_name: odf-storage
    storage_type: odf
    storage_flavour: bx2.16x64
    secondary_storage: 900gb.10iops-tier
    odf_storage_label: ocs
    odf_storage_size_gb: 500
    odf_version: 4.8.0
  - storage_name: pwx-storage
    storage_type: pwx 
    pwx_etcd_location: {{ ibm_cloud_region }}
    pwx_storage_size_gb: 200 
    pwx_storage_iops: 10 
    pwx_storage_profile: &quot;10iops-tier&quot;
    stork_version: 2.6.2
    portworx_version: 2.7.2
</code></pre></div></p> <h4 id=property-explanation-openshift-clusters-on-ibm-cloud-roks>Property explanation OpenShift clusters on IBM Cloud (ROKS)<a class=headerlink href=#property-explanation-openshift-clusters-on-ibm-cloud-roks title="Permanent link">ðŸ”—</a></h4> <table> <thead> <tr> <th>Property</th> <th>Description</th> <th>Mandatory</th> <th>Allowed values</th> </tr> </thead> <tbody> <tr> <td>name</td> <td>Name of the OpenShift cluster</td> <td>Yes</td> <td></td> </tr> <tr> <td>managed</td> <td>Is the ROKS cluster managed by this deployer? See note below.</td> <td>No</td> <td>True (default), False</td> </tr> <tr> <td>ocp_version</td> <td>ROKS Kubernetes version. If you want to install <code>4.10</code>, specify <code>"4.10"</code></td> <td>Yes</td> <td>&gt;= 4.6</td> </tr> <tr> <td>compute_flavour</td> <td>Type of compute node to be used</td> <td>Yes</td> <td><a href="https://cloud.ibm.com/docs/vpc?topic=vpc-profiles&interface=api">Node flavours</a></td> </tr> <tr> <td>secondary_storage</td> <td>Additional storage to be added to the compute servers</td> <td>No</td> <td>900gb.10iops-tier, &hellip;</td> </tr> <tr> <td>compute_nodes</td> <td>Total number of compute nodes. This must be a factor of the number of subnets</td> <td>Yes</td> <td>Integer</td> </tr> <tr> <td>resource_group</td> <td>IBM Cloud resource group for the ROKS cluster</td> <td>Yes</td> <td></td> </tr> <tr> <td>cloud_native_toolkit</td> <td>Must the Cloud Native Toolkit (OpenShift GitOps) be installed?</td> <td>No</td> <td>True, False (default)</td> </tr> <tr> <td>oadp</td> <td>Must the OpenShift Advanced Data Protection operator be installed</td> <td>No</td> <td>True, False (default)</td> </tr> <tr> <td>infrastructure.type</td> <td>Type of infrastructure to provision ROKS cluster on</td> <td>No</td> <td>vpc</td> </tr> <tr> <td>infrastructure.vpc_name</td> <td>Name of the VPC if type is <code>vpc</code></td> <td>Yes, inferrred from vpc</td> <td>Existing VPC</td> </tr> <tr> <td>infrastructure.subnets</td> <td>List of subnets within the VPC to use. Either 1 or 3 subnets must be specified</td> <td>Yes</td> <td>Existing subnet</td> </tr> <tr> <td>infrastructure.cos_name</td> <td>Reference to the <code>cos</code> object created for this cluster</td> <td>Yes</td> <td>Existing cos object</td> </tr> <tr> <td>infrastructure.private_only</td> <td>If true, it indicates that the ROKS cluster must be provisioned without public endpoints</td> <td>No</td> <td>True, False (default)</td> </tr> <tr> <td>infrastructure.deny_node_ports</td> <td>If true, the Allow ICMP, TCP and UDP rules for the security group associated with the ROKS cluster are removed if present. If false, the Allow ICMP, TCP and UDP rules are added if not present.</td> <td>No</td> <td>True, False (default)</td> </tr> <tr> <td>openshift_logging[]</td> <td>Logging attributes for OpenShift cluster, see <a href=../logging-auditing/ >OpenShift logging</a></td> <td>No</td> <td></td> </tr> <tr> <td>upstream_dns[]</td> <td>Upstream DNS servers(s), see <a href=../dns/ >Upstream DNS Servers</a></td> <td>No</td> <td></td> </tr> <tr> <td>gpu</td> <td>Control Node Feature Discovery and NVIDIA GPU operators</td> <td>No</td> <td></td> </tr> <tr> <td>gpu.install</td> <td>Must Node Feature Discovery and NVIDIA GPU operators be installed (Once installed, False does not uninstall). <code>auto</code> will install the operators if needed by any of the Cloud Pak/watsonx components</td> <td>Yes</td> <td>auto, True, False</td> </tr> <tr> <td>openshift_ai</td> <td>Control installation of OpenShift AI</td> <td>No</td> <td></td> </tr> <tr> <td>openshift_ai.install</td> <td>Must OpenShift AI be installed (Once installed, False does not uninstall). <code>auto</code> will install OpenShift AI if needed by any of the Cloud Pak/watsonx components</td> <td>Yes</td> <td>auto, True, False</td> </tr> <tr> <td>openshift_ai.channel</td> <td>Which oeprator channel must be installed</td> <td>No</td> <td>auto (default), stable, &hellip;</td> </tr> <tr> <td>mcg</td> <td>Multicloud Object Gateway properties</td> <td>No</td> <td></td> </tr> <tr> <td>mcg.install</td> <td>Must Multicloud Object Gateway be installed (Once installed, False does not uninstall)</td> <td>Yes</td> <td>True, False</td> </tr> <tr> <td>mcg.storage_type</td> <td>Type of storage supporting the object Noobaa object storage</td> <td>Yes</td> <td>storage-class</td> </tr> <tr> <td>mcg.storage_class</td> <td>Storage class supporting the Noobaa object storage</td> <td>Yes</td> <td>Existing storage class</td> </tr> <tr> <td>openshift_storage[]</td> <td>List of storage definitions to be defined on OpenShift, see below for further explanation</td> <td>Yes</td> <td></td> </tr> </tbody> </table> <p>The <code>managed</code> attribute indicates whether the ROKS cluster is managed by the Cloud Pak Deployer. If set to <code>False</code>, the deployer will not provision the ROKS cluster but expects it to already be available in the VPC. You can still use the deployer to create the VPC, the subnets, NFS servers and other infrastructure, but first run it without an <code>openshift</code> element. Once the VPC has been created, manually create an OpenShift cluster in the VPC and then add the <code>openshift</code> element with <code>managed</code> set to <code>False</code>. If you intend to use OpenShift Data Foundation, you must also activate the add-on and create the <code>OcsCluster</code> custom resource.</p> <div class="admonition warning"> <p class=admonition-title>Warning</p> <p>If you set <code>infrastructure.private_only</code> to <code>True</code>, the server from which you run the deployer must be able to access the ROKS cluster via its private endpoint, either by establishing a VPN to the cluster's VPC, or by making sure the deployer runs on a server that has a connection with the ROKS VPC via a transit gateway.</p> </div> <h5 id=openshift_storage---openshift-storage-definitions_1>openshift_storage[] - OpenShift storage definitions<a class=headerlink href=#openshift_storage---openshift-storage-definitions_1 title="Permanent link">ðŸ”—</a></h5> <table> <thead> <tr> <th>Property</th> <th>Description</th> <th>Mandatory</th> <th>Allowed values</th> </tr> </thead> <tbody> <tr> <td>openshift_storage[]</td> <td>List of storage definitions to be defined on OpenShift</td> <td>Yes</td> <td></td> </tr> <tr> <td>storage_name</td> <td>Name of the storage definition, to be referenced by the Cloud Pak</td> <td>Yes</td> <td></td> </tr> <tr> <td>storage_type</td> <td>Type of storage class to create in the OpenShift cluster</td> <td>Yes</td> <td>nfs, odf or pwx</td> </tr> <tr> <td>storage_flavour</td> <td>Type of compute node to be used for the storage nodes</td> <td>Yes</td> <td><a href="https://cloud.ibm.com/docs/vpc?topic=vpc-profiles&interface=api">Node flavours</a>, default is <code>bx2.16x64</code></td> </tr> <tr> <td>secondary_storage</td> <td>Additional storage to be added to the storage server</td> <td>No</td> <td>900gb.10iops-tier, &hellip;</td> </tr> <tr> <td>nfs_server_name</td> <td>Name of the NFS server within the VPC</td> <td>Yes if <code>storage_type</code> is <code>nfs</code></td> <td>Existing <code>nfs_server</code></td> </tr> <tr> <td>odf_storage_label</td> <td>Label to be used for the dedicated ODF nodes in the cluster</td> <td>Yes if <code>storage_type</code> is <code>odf</code></td> <td></td> </tr> <tr> <td>odf_storage_size_gb</td> <td>Size of the ODF storage in Gibibytes (Gi)</td> <td>Yes if <code>storage_type</code> is <code>odf</code></td> <td></td> </tr> <tr> <td>odf_version</td> <td>Version of ODF to be deployed. If left empty, the latest version will be deployed</td> <td>No</td> <td>&gt;= 4.6</td> </tr> <tr> <td>pwx_etcd_location</td> <td>Location where the etcd service will be deployed, typically the same region as the ROKS cluster</td> <td>Yes if <code>storage_type</code> is <code>pwx</code></td> <td></td> </tr> <tr> <td>pwx_storage_size_gb</td> <td>Size of the Portworx storage that will be provisioned</td> <td>Yes if <code>storage_type</code> is <code>pwx</code></td> <td></td> </tr> <tr> <td>pwx_storage_iops</td> <td>IOPS for the storage volumes that will be provisioned</td> <td>Yes if <code>storage_type</code> is <code>pwx</code></td> <td></td> </tr> <tr> <td>pwx_storage_profile</td> <td>IOPS storage tier the storage volumes that will be provisioned</td> <td>Yes if <code>storage_type</code> is <code>pwx</code></td> <td></td> </tr> <tr> <td>stork_version</td> <td>Version of the Portworx storage orchestration layer for Kubernetes</td> <td>Yes if <code>storage_type</code> is <code>pwx</code></td> <td></td> </tr> <tr> <td>portworx_version</td> <td>Version of the Portworx storage provider</td> <td>Yes if <code>storage_type</code> is <code>pwx</code></td> <td></td> </tr> </tbody> </table> <div class="admonition warning"> <p class=admonition-title>Warning</p> <p>When deploying a ROKS cluster with OpenShift Data Foundation (fka OpenShift Container Storage/OCS), the minimum version of OpenShift is 4.7.</p> </div> <h3 id=openshift-on-vsphere>OpenShift on vSphere<a class=headerlink href=#openshift-on-vsphere title="Permanent link">ðŸ”—</a></h3> <div class=highlight><pre><span></span><code>openshift:
- name: sample
  domain_name: example.com
  vsphere_name: sample
  ocp_version: 4.8
  control_plane_nodes: 3
  control_plane_vm_definition: control-plane
  compute_nodes: 3
  compute_vm_definition: compute
  api_vip: 10.99.92.51
  ingress_vip: 10.99.92.52
  cloud_native_toolkit: False
  oadp: False
  infrastructure:
    openshift_cluster_network_cidr: 10.128.0.0/14
  upstream_dns:
  - name: sample-dns
     zones:
     - example.com
     dns_servers:
     - 172.31.2.73:53
  gpu:
    install: auto
  openshift_ai:
    install: auto
    channel: auto
  mcg:
    install: True
    storage_type: storage-class
    storage_class: thin
  openshift_storage:
  - storage_name: nfs-storage
    storage_type: nfs
    nfs_server_name: sample-nfs
  - storage_name: odf-storage
    storage_type: odf
    odf_storage_label: ocs
    odf_storage_size_gb: 512
    odf_dynamic_storage_class: thin
</code></pre></div> <h4 id=property-explanation-openshift-clusters-on-vsphere>Property explanation OpenShift clusters on vSphere<a class=headerlink href=#property-explanation-openshift-clusters-on-vsphere title="Permanent link">ðŸ”—</a></h4> <table> <thead> <tr> <th>Property</th> <th>Description</th> <th>Mandatory</th> <th>Allowed values</th> </tr> </thead> <tbody> <tr> <td>name</td> <td>Name of the OpenShift cluster</td> <td>Yes</td> <td></td> </tr> <tr> <td>domain_name</td> <td>Domain name of the cluster, this will also depict the route to the API and ingress endpoints</td> <td>Yes</td> <td></td> </tr> <tr> <td>ocp_version</td> <td>OpenShift version. If you want to install <code>4.10</code>, specify <code>"4.10"</code></td> <td>Yes</td> <td>&gt;= 4.6</td> </tr> <tr> <td>control_plane_nodes</td> <td>Total number of control plane nodes, typically 3</td> <td>Yes</td> <td>Integer</td> </tr> <tr> <td>control_plane_vm_definition</td> <td><code>vm_definition</code> object that will be used to define number of vCPUs and memory for the control plane nodes</td> <td>Yes</td> <td>Existing <code>vm_definition</code></td> </tr> <tr> <td>compute_nodes</td> <td>Total number of compute nodes</td> <td>Yes</td> <td>Integer</td> </tr> <tr> <td>compute_vm_definition</td> <td><code>vm_definition</code> object that will be used to define number of vCPUs and memory for the compute nodes</td> <td>Yes</td> <td>Existing <code>vm_definition</code></td> </tr> <tr> <td>api_vip</td> <td>Virtual IP address that the installer will provision for the API server</td> <td>Yes</td> <td></td> </tr> <tr> <td>ingress_vip</td> <td>Virtual IP address that the installer will provision for the ingress server</td> <td>Yes</td> <td></td> </tr> <tr> <td>cloud_native_toolkit</td> <td>Must the Cloud Native Toolkit (OpenShift GitOps) be installed?</td> <td>No</td> <td>True, False (default)</td> </tr> <tr> <td>oadp</td> <td>Must the OpenShift Advanced Data Protection operator be installed</td> <td>No</td> <td>True, False (default)</td> </tr> <tr> <td>infrastructure</td> <td>Infrastructure properties</td> <td>No</td> <td></td> </tr> <tr> <td>infrastructure.openshift_cluster_network_cidr</td> <td>Network CIDR used by the OpenShift pods. Normally you would not have to change this, unless other systems in the network are in the 10.128.0.0/14 subnet.</td> <td>No</td> <td>CIDR</td> </tr> <tr> <td>openshift_logging[]</td> <td>Logging attributes for OpenShift cluster, see <a href=../logging-auditing/ >OpenShift logging</a></td> <td>No</td> <td></td> </tr> <tr> <td>upstream_dns[]</td> <td>Upstream DNS servers(s), see <a href=../dns/ >Upstream DNS Servers</a></td> <td>No</td> <td></td> </tr> <tr> <td>gpu</td> <td>Control Node Feature Discovery and NVIDIA GPU operators</td> <td>No</td> <td></td> </tr> <tr> <td>gpu.install</td> <td>Must Node Feature Discovery and NVIDIA GPU operators be installed (Once installed, False does not uninstall). <code>auto</code> will install the operators if needed by any of the Cloud Pak/watsonx</td> <td>Yes</td> <td>auto, True, False</td> </tr> <tr> <td>openshift_ai</td> <td>Control installation of OpenShift AI</td> <td>No</td> <td></td> </tr> <tr> <td>openshift_ai.install</td> <td>Must OpenShift AI be installed (Once installed, False does not uninstall). <code>auto</code> will install OpenShift AI if needed by any of the Cloud Pak/watsonx components</td> <td>Yes</td> <td>auto, True, False</td> </tr> <tr> <td>openshift_ai.channel</td> <td>Which oeprator channel must be installed</td> <td>No</td> <td>auto (default), stable, &hellip;</td> </tr> <tr> <td>mcg</td> <td>Multicloud Object Gateway properties</td> <td>No</td> <td></td> </tr> <tr> <td>mcg.install</td> <td>Must Multicloud Object Gateway be installed (Once installed, False does not uninstall)</td> <td>Yes</td> <td>True, False</td> </tr> <tr> <td>mcg.storage_type</td> <td>Type of storage supporting the object Noobaa object storage</td> <td>Yes</td> <td>storage-class</td> </tr> <tr> <td>mcg.storage_class</td> <td>Storage class supporting the Noobaa object storage</td> <td>Yes</td> <td>Existing storage class</td> </tr> <tr> <td>openshift_storage[]</td> <td>List of storage definitions to be defined on OpenShift, see below for further explanation</td> <td>Yes</td> <td></td> </tr> </tbody> </table> <h5 id=openshift_storage---openshift-storage-definitions_2>openshift_storage[] - OpenShift storage definitions<a class=headerlink href=#openshift_storage---openshift-storage-definitions_2 title="Permanent link">ðŸ”—</a></h5> <table> <thead> <tr> <th>Property</th> <th>Description</th> <th>Mandatory</th> <th>Allowed values</th> </tr> </thead> <tbody> <tr> <td>openshift_storage[]</td> <td>List of storage definitions to be defined on OpenShift</td> <td>Yes</td> <td></td> </tr> <tr> <td>storage_name</td> <td>Name of the storage definition, to be referenced by the Cloud Pak</td> <td>Yes</td> <td></td> </tr> <tr> <td>storage_type</td> <td>Type of storage class to create in the OpenShift cluster</td> <td>Yes</td> <td>nfs or odf</td> </tr> <tr> <td>dedicated_nodes</td> <td>Specify if dedicated nodes must be used for ODF</td> <td>No</td> <td><code>True</code>, <code>False</code></td> </tr> <tr> <td>nfs_server_name</td> <td>Name of the NFS server within the VPC</td> <td>Yes if <code>storage_type</code> is <code>nfs</code></td> <td>Existing <code>nfs_server</code></td> </tr> <tr> <td>odf_version</td> <td>Version of the ODF operator. If not specified, this will default to the <code>ocp_version</code></td> <td>No</td> <td>&gt;= 4.6</td> </tr> <tr> <td>odf_storage_label</td> <td>Label to be used for the dedicated ODF nodes in the cluster</td> <td>Yes if <code>storage_type</code> is <code>odf</code></td> <td></td> </tr> <tr> <td>odf_storage_size_gb</td> <td>Size of the ODF storage in Gibibytes (Gi)</td> <td>Yes if <code>storage_type</code> is <code>odf</code></td> <td></td> </tr> <tr> <td>odf_dynamic_storage_class</td> <td>Storage class that will be used for provisioning ODF. On vSphere clusters, <code>thin</code> is usually available after OpenShift installation</td> <td>Yes if <code>storage_type</code> is <code>odf</code></td> <td></td> </tr> <tr> <td>storage_vm_definition</td> <td>VM Definition that defines the virtual machine attributes for the ODF nodes</td> <td>Yes if <code>storage_type</code> is <code>odf</code></td> <td></td> </tr> </tbody> </table> <h3 id=openshift-on-aws---self-managed>OpenShift on AWS - self-managed<a class=headerlink href=#openshift-on-aws---self-managed title="Permanent link">ðŸ”—</a></h3> <div class=highlight><pre><span></span><code>nfs_server:
- name: sample-elastic
  infrastructure:
    aws_region: eu-west-1

openshift:
- name: sample
  ocp_version: 4.10.34
  domain_name: cp-deployer.eu
  compute_flavour: m5.4xlarge
  compute_nodes: 3
  cloud_native_toolkit: False
  oadp: False
  infrastructure:
    type: self-managed
    aws_region: eu-central-1
    multi_zone: True
    credentials_mode: Manual
    private_only: True
    machine_cidr: 10.2.1.0/24
    openshift_cluster_network_cidr: 10.128.0.0/14
    subnet_ids:
    - subnet-06bbef28f585a0dd3
    - subnet-0ea5ac344c0fbadf5
    hosted_zone_id: Z08291873MCIC4TMIK4UP
    ami_id: ami-09249dd86b1933dd5
  mcg:
    install: True
    storage_type: storage-class
    storage_class: gp3-csi
  openshift_storage:
  - storage_name: odf-storage
    storage_type: odf
    odf_storage_label: ocs
    odf_storage_size_gb: 512
  - storage_name: sample-elastic
    storage_type: aws-elastic
</code></pre></div> <h4 id=property-explanation-openshift-clusters-on-aws-self-managed>Property explanation OpenShift clusters on AWS (self-managed)<a class=headerlink href=#property-explanation-openshift-clusters-on-aws-self-managed title="Permanent link">ðŸ”—</a></h4> <table> <thead> <tr> <th>Property</th> <th>Description</th> <th>Mandatory</th> <th>Allowed values</th> </tr> </thead> <tbody> <tr> <td>name</td> <td>Name of the OpenShift cluster</td> <td>Yes</td> <td></td> </tr> <tr> <td>ocp_version</td> <td>OpenShift version version, specified as <code>x.y.z</code></td> <td>Yes</td> <td>&gt;= 4.6</td> </tr> <tr> <td>domain_name</td> <td>Base domain name of the cluster. Together with the <code>name</code>, this will be the domain of the OpenShift cluster.</td> <td>Yes</td> <td></td> </tr> <tr> <td>control_plane_flavour</td> <td>Flavour of the AWS servers used for the control plane nodes. <code>m5.xxlarge</code> is the recommended value 4 GB of memory</td> <td>Yes</td> <td></td> </tr> <tr> <td>control_plane_nodes</td> <td>Total number of control plane</td> <td>Yes</td> <td>Integer</td> </tr> <tr> <td>compute_flavour</td> <td>Flavour of the AWS servers used for the compute nodes. <code>m5.4xlarge</code> is a large node with 16 cores and 64 GB of memory</td> <td>Yes</td> <td></td> </tr> <tr> <td>compute_nodes</td> <td>Total number of compute nodes</td> <td>Yes</td> <td>Integer</td> </tr> <tr> <td>cloud_native_toolkit</td> <td>Must the Cloud Native Toolkit (OpenShift GitOps) be installed?</td> <td>No</td> <td>True, False (default)</td> </tr> <tr> <td>oadp</td> <td>Must the OpenShift Advanced Data Protection operator be installed</td> <td>No</td> <td>True, False (default)</td> </tr> <tr> <td>infrastructure</td> <td>Infrastructure properties</td> <td>Yes</td> <td></td> </tr> <tr> <td>infrastructure.type</td> <td>Type of OpenShift cluster on AWS.</td> <td>Yes</td> <td><code>rosa</code> or <code>self-managed</code></td> </tr> <tr> <td>infrastructure.aws_region</td> <td>Region of AWS where cluster is deployed.</td> <td>Yes</td> <td></td> </tr> <tr> <td>infrastructure.multi_zone</td> <td>Determines whether the OpenShift cluster is deployed across multiple availability zones. Default is True.</td> <td>No</td> <td>True (default), False</td> </tr> <tr> <td>infrastructure.credentials_mode</td> <td>Security requirement of the Cloud Credential Operator (COO) when doing installations with temporary AWS security credentials. Default (omit) is automatically handled by CCO.</td> <td>No</td> <td>Manual, Mint</td> </tr> <tr> <td>infrastructure.machine_cdr</td> <td>Machine CIDR. This value will be used to create the VPC and its subnets. In case of an existing VPC, specify the CIDR of that VPC.</td> <td>No</td> <td>CIDR</td> </tr> <tr> <td>infrastructure.openshift_cluster_network_cidr</td> <td>Network CIDR used by the OpenShift pods. Normally you would not have to change this, unless other systems in the network are in the 10.128.0.0/14 subnet.</td> <td>No</td> <td>CIDR</td> </tr> <tr> <td>infrastructure.subnet_ids</td> <td>Existing public and private subnet IDs in the VPC to be used for the OpenShift cluster. Must be specified in combination with machine_cidr and hosted_zone_id.</td> <td>No</td> <td>Existing subnet IDs</td> </tr> <tr> <td>infrastructure.private_only</td> <td>Indicates whether the OpenShift can be accessed from the internet. Default is True</td> <td>No</td> <td>True, False</td> </tr> <tr> <td>infrastructure.hosted_zone_id</td> <td>ID of the AWS Route 53 hosted zone that controls the DNS entries. If not specified, the OpenShift installer will create a hosted zone for the specified <code>domain_name</code>. This attribute is only needed if you create the OpenShift cluster in an existing VPC</td> <td>No</td> <td></td> </tr> <tr> <td>infrastructure.control_plane_iam_role</td> <td>If not standard, specify the IAM role that the OpenShift installer must use for the control plane nodes during cluster creation</td> <td>No</td> <td></td> </tr> <tr> <td>infrastructure.compute_iam_role</td> <td>If not standard, specify the IAM role that the OpenShift installer must use for the compute nodes during cluster creation</td> <td>No</td> <td></td> </tr> <tr> <td>infrastructure.ami_id</td> <td>ID of the AWS AMI to boot all images</td> <td>No</td> <td></td> </tr> <tr> <td>openshift_logging[]</td> <td>Logging attributes for OpenShift cluster, see <a href=../logging-auditing/ >OpenShift logging</a></td> <td>No</td> <td></td> </tr> <tr> <td>gpu</td> <td>Control Node Feature Discovery and NVIDIA GPU operators</td> <td>No</td> <td></td> </tr> <tr> <td>gpu.install</td> <td>Must Node Feature Discovery and NVIDIA GPU operators be installed (Once installed, False does not uninstall). <code>auto</code> will install the operators if needed by any of the Cloud Pak/watsonx</td> <td>Yes</td> <td>auto, True, False</td> </tr> <tr> <td>openshift_ai</td> <td>Control installation of OpenShift AI</td> <td>No</td> <td></td> </tr> <tr> <td>openshift_ai.install</td> <td>Must OpenShift AI be installed (Once installed, False does not uninstall). <code>auto</code> will install OpenShift AI if needed by any of the Cloud Pak/watsonx components</td> <td>Yes</td> <td>auto, True, False</td> </tr> <tr> <td>openshift_ai.channel</td> <td>Which oeprator channel must be installed</td> <td>No</td> <td>auto (default), stable, &hellip;</td> </tr> <tr> <td>mcg</td> <td>Multicloud Object Gateway properties</td> <td>No</td> <td></td> </tr> <tr> <td>mcg.install</td> <td>Must Multicloud Object Gateway be installed (Once installed, False does not uninstall)</td> <td>Yes</td> <td>True, False</td> </tr> <tr> <td>mcg.storage_type</td> <td>Type of storage supporting the object Noobaa object storage</td> <td>Yes</td> <td>storage-class</td> </tr> <tr> <td>mcg.storage_class</td> <td>Storage class supporting the Noobaa object storage</td> <td>Yes</td> <td>Existing storage class</td> </tr> <tr> <td>openshift_storage[]</td> <td>List of storage definitions to be defined on OpenShift, see below for further explanation</td> <td>Yes</td> <td></td> </tr> </tbody> </table> <p>When deploying the OpenShift cluster within an existing VPC, you must specify the <code>machine_cidr</code> that covers all subnets and the subnet IDs within the VPC. For example: <div class=highlight><pre><span></span><code>    machine_cidr: 10.243.0.0/24
    subnets_ids:
    - subnet-0e63f662bb1842e8a
    - subnet-0673351cd49877269
    - subnet-00b007a7c2677cdbc
    - subnet-02b676f92c83f4422
    - subnet-0f1b03a02973508ed
    - subnet-027ca7cc695ce8515
</code></pre></div></p> <h5 id=openshift_storage---openshift-storage-definitions_3>openshift_storage[] - OpenShift storage definitions<a class=headerlink href=#openshift_storage---openshift-storage-definitions_3 title="Permanent link">ðŸ”—</a></h5> <table> <thead> <tr> <th>Property</th> <th>Description</th> <th>Mandatory</th> <th>Allowed values</th> </tr> </thead> <tbody> <tr> <td>openshift_storage[]</td> <td>List of storage definitions to be defined on OpenShift</td> <td>Yes</td> <td></td> </tr> <tr> <td>storage_name</td> <td>Name of the storage definition, to be referenced by the Cloud Pak</td> <td>Yes</td> <td></td> </tr> <tr> <td>storage_type</td> <td>Type of storage class to create in the OpenShift cluster</td> <td>Yes</td> <td>odf, aws-elastic</td> </tr> <tr> <td>dedicated_nodes</td> <td>Specify if dedicated nodes must be used for ODF</td> <td>No</td> <td><code>True</code>, <code>False</code></td> </tr> <tr> <td>odf_version</td> <td>Version of the ODF operator. If not specified, this will default to the <code>ocp_version</code></td> <td>No</td> <td></td> </tr> <tr> <td>odf_storage_label</td> <td>Label to be used for the dedicated ODF nodes in the cluster</td> <td>Yes if <code>storage_type</code> is <code>odf</code></td> <td></td> </tr> <tr> <td>odf_storage_size_gb</td> <td>Size of the ODF storage in Gibibytes (Gi)</td> <td>Yes if <code>storage_type</code> is <code>odf</code></td> <td></td> </tr> <tr> <td>odf_dynamic_storage_class</td> <td>Storage class that will be used for provisioning ODF. <code>gp3-csi</code> is usually available after OpenShift installation</td> <td>No</td> <td></td> </tr> </tbody> </table> <h3 id=openshift-on-aws---rosa>OpenShift on AWS - ROSA<a class=headerlink href=#openshift-on-aws---rosa title="Permanent link">ðŸ”—</a></h3> <div class=highlight><pre><span></span><code>nfs_server:
- name: sample-elastic
  infrastructure:
    aws_region: eu-west-1

openshift:
- name: sample
  ocp_version: 4.10.34
  compute_flavour: m5.4xlarge
  compute_nodes: 3
  cloud_native_toolkit: False
  oadp: False
  infrastructure:
    type: rosa
    aws_region: eu-central-1
    multi_zone: True
    use_sts: False
    credentials_mode: Manual
  upstream_dns:
  - name: sample-dns
     zones:
     - example.com
     dns_servers:
     - 172.31.2.73:53
  gpu:
    install: auto
  openshift_ai:
    install: auto
    channel: auto
  mcg:
    install: True
    storage_type: storage-class
    storage_class: gp3-csi
  openshift_storage:
  - storage_name: odf-storage
    storage_type: odf
    odf_storage_label: ocs
    odf_storage_size_gb: 512
  - storage_name: sample-elastic
    storage_type: aws-elastic
</code></pre></div> <h4 id=property-explanation-openshift-clusters-on-aws-rosa>Property explanation OpenShift clusters on AWS (ROSA)<a class=headerlink href=#property-explanation-openshift-clusters-on-aws-rosa title="Permanent link">ðŸ”—</a></h4> <table> <thead> <tr> <th>Property</th> <th>Description</th> <th>Mandatory</th> <th>Allowed values</th> </tr> </thead> <tbody> <tr> <td>name</td> <td>Name of the OpenShift cluster</td> <td>Yes</td> <td></td> </tr> <tr> <td>ocp_version</td> <td>OpenShift version version, specified as <code>x.y.z</code></td> <td>Yes</td> <td>&gt;= 4.6</td> </tr> <tr> <td>compute_flavour</td> <td>Flavour of the AWS servers used for the compute nodes. <code>m5.4xlarge</code> is a large node with 16 cores and 64 GB of memory</td> <td>Yes</td> <td></td> </tr> <tr> <td>cloud_native_toolkit</td> <td>Must the Cloud Native Toolkit (OpenShift GitOps) be installed?</td> <td>No</td> <td>True, False (default)</td> </tr> <tr> <td>oadp</td> <td>Must the OpenShift Advanced Data Protection operator be installed</td> <td>No</td> <td>True, False (default)</td> </tr> <tr> <td>infrastructure</td> <td>Infrastructure properties</td> <td>Yes</td> <td></td> </tr> <tr> <td>infrastructure.type</td> <td>Type of OpenShift cluster on AWS.</td> <td>Yes</td> <td><code>rosa</code> or <code>self-managed</code></td> </tr> <tr> <td>infrastructure.aws_region</td> <td>Region of AWS where cluster is deployed.</td> <td>Yes</td> <td></td> </tr> <tr> <td>infrastructure.multi_zone</td> <td>Determines whether the OpenShift cluster is deployed across multiple availability zones. Default is True.</td> <td>No</td> <td>True (default), False</td> </tr> <tr> <td>infrastructure.use_sts</td> <td>Determines whether AWS Security Token Service must be used by the ROSA installer. Default is False.</td> <td>No</td> <td>True, False (default)</td> </tr> <tr> <td>infrastructure.credentials_mode</td> <td>Change the security requirement of the Cloud Credential Operator (COO). Default (omit) is automatically handled by CCO.</td> <td>No</td> <td>Manual, Mint</td> </tr> <tr> <td>infrastructure.machine_cdr</td> <td>Machine CIDR, for example 10.243.0.0/16.</td> <td>No</td> <td>CIDR</td> </tr> <tr> <td>infrastructure.subnet_ids</td> <td>Existing public and private subnet IDs in the VPC to be used for the OpenShift cluster. Must be specified in combination with machine_cidr.</td> <td>No</td> <td>Existing subnet IDs</td> </tr> <tr> <td>compute_nodes</td> <td>Total number of compute nodes</td> <td>Yes</td> <td>Integer</td> </tr> <tr> <td>upstream_dns[]</td> <td>Upstream DNS servers(s), see <a href=../dns/ >Upstream DNS Servers</a></td> <td>No</td> <td></td> </tr> <tr> <td>openshift_logging[]</td> <td>Logging attributes for OpenShift cluster, see <a href=../logging-auditing/ >OpenShift logging</a></td> <td>No</td> <td></td> </tr> <tr> <td>upstream_dns[]</td> <td>Upstream DNS servers(s), see <a href=#upstream-dns-servers>Upstream DNS Servers</a></td> <td>No</td> <td></td> </tr> <tr> <td>gpu</td> <td>Control Node Feature Discovery and NVIDIA GPU operators</td> <td>No</td> <td></td> </tr> <tr> <td>gpu.install</td> <td>Must Node Feature Discovery and NVIDIA GPU operators be installed (Once installed, False does not uninstall). <code>auto</code> will install the operators if needed by any of the Cloud Pak/watsonx</td> <td>Yes</td> <td>auto, True, False</td> </tr> <tr> <td>openshift_ai</td> <td>Control installation of OpenShift AI</td> <td>No</td> <td></td> </tr> <tr> <td>openshift_ai.install</td> <td>Must OpenShift AI be installed (Once installed, False does not uninstall). <code>auto</code> will install OpenShift AI if needed by any of the Cloud Pak/watsonx components</td> <td>Yes</td> <td>auto, True, False</td> </tr> <tr> <td>openshift_ai.channel</td> <td>Which oeprator channel must be installed</td> <td>No</td> <td>auto (default), stable, &hellip;</td> </tr> <tr> <td>mcg</td> <td>Multicloud Object Gateway properties</td> <td>No</td> <td></td> </tr> <tr> <td>mcg.install</td> <td>Must Multicloud Object Gateway be installed (Once installed, False does not uninstall)</td> <td>Yes</td> <td>True, False</td> </tr> <tr> <td>mcg.storage_type</td> <td>Type of storage supporting the object Noobaa object storage</td> <td>Yes</td> <td>storage-class</td> </tr> <tr> <td>mcg.storage_class</td> <td>Storage class supporting the Noobaa object storage</td> <td>Yes</td> <td>Existing storage class</td> </tr> <tr> <td>openshift_storage[]</td> <td>List of storage definitions to be defined on OpenShift, see below for further explanation</td> <td>Yes</td> <td></td> </tr> </tbody> </table> <p>When deploying the OpenShift cluster within an existing VPC, you must specify the <code>machine_cidr</code> that covers all subnets and the subnet IDs within the VPC. For example: <div class=highlight><pre><span></span><code>    machine_cidr: 10.243.0.0/24
    subnets_ids:
    - subnet-0e63f662bb1842e8a
    - subnet-0673351cd49877269
    - subnet-00b007a7c2677cdbc
    - subnet-02b676f92c83f4422
    - subnet-0f1b03a02973508ed
    - subnet-027ca7cc695ce8515
</code></pre></div></p> <h5 id=openshift_storage---openshift-storage-definitions_4>openshift_storage[] - OpenShift storage definitions<a class=headerlink href=#openshift_storage---openshift-storage-definitions_4 title="Permanent link">ðŸ”—</a></h5> <table> <thead> <tr> <th>Property</th> <th>Description</th> <th>Mandatory</th> <th>Allowed values</th> </tr> </thead> <tbody> <tr> <td>openshift_storage[]</td> <td>List of storage definitions to be defined on OpenShift</td> <td>Yes</td> <td></td> </tr> <tr> <td>storage_name</td> <td>Name of the storage definition, to be referenced by the Cloud Pak</td> <td>Yes</td> <td></td> </tr> <tr> <td>storage_type</td> <td>Type of storage class to create in the OpenShift cluster</td> <td>Yes</td> <td>ocs, odf, aws-elastic</td> </tr> <tr> <td>odf_version</td> <td>Version of the ODF operator. If not specified, this will default to the <code>ocp_version</code></td> <td>No</td> <td></td> </tr> <tr> <td>odf_storage_label</td> <td>Label to be used for the dedicated ODF nodes in the cluster</td> <td>Yes if <code>storage_type</code> is <code>odf</code></td> <td></td> </tr> <tr> <td>odf_storage_size_gb</td> <td>Size of the ODF storage in Gibibytes (Gi)</td> <td>Yes if <code>storage_type</code> is <code>odf</code></td> <td></td> </tr> <tr> <td>odf_dynamic_storage_class</td> <td>Storage class that will be used for provisioning ODF. <code>gp3-csi</code> is usually available after OpenShift installation</td> <td>No</td> <td></td> </tr> </tbody> </table> <h3 id=openshift-on-microsoft-azure---aro>OpenShift on Microsoft Azure - ARO<a class=headerlink href=#openshift-on-microsoft-azure---aro title="Permanent link">ðŸ”—</a></h3> <div class=highlight><pre><span></span><code>openshift:
- name: sample
  azure_name: sample
  domain_name: example.com
  ocp_version: 4.10.54
  cloud_native_toolkit: False
  oadp: False
  infrastructure:
    type: aro
    multi_zone: True
    private_only: False
  network:
    machine_cidr: &quot;10.0.0.0/16&quot;
    pod_cidr: &quot;10.128.0.0/14&quot;
    service_cidr: &quot;172.30.0.0/16&quot;
  gpu:
    install: auto
  openshift_ai:
    install: auto
    channel: auto
  openshift_storage:
  - storage_name: odf-storage
    storage_type: odf
    odf_storage_label: ocs
    odf_storage_size_gb: 512
    odf_dynamic_storage_class: managed-premium
</code></pre></div> <h4 id=property-explanation-for-openshift-cluster-on-microsoft-azure-aro>Property explanation for OpenShift cluster on Microsoft Azure (ARO)<a class=headerlink href=#property-explanation-for-openshift-cluster-on-microsoft-azure-aro title="Permanent link">ðŸ”—</a></h4> <div class="admonition warning"> <p class=admonition-title>Warning</p> <p>You are not allowed to specify the OCP version of the ARO cluster. The latest current version is provisioned automatically instead no matter what value is specified in the "ocp_version" parameter. The "ocp_version" parameter is mandatory for compatibility with other layers of the provisioning, such as the OpenShift client. For instance, the value is used by the process which downloads and installs the <code>oc</code> client. Please, specify the value according to what OCP version will be provisioned.</p> </div> <table> <thead> <tr> <th>Property</th> <th>Description</th> <th>Mandatory</th> <th>Allowed values</th> </tr> </thead> <tbody> <tr> <td>name</td> <td>Name of the OpenShift cluster</td> <td>Yes</td> <td></td> </tr> <tr> <td>azure_name</td> <td>Name of the <code>azure</code> element in the configuration</td> <td>Yes</td> <td></td> </tr> <tr> <td>domain_name</td> <td>Domain mame of the cluster, if you want to override the name generated by Azure</td> <td>No</td> <td></td> </tr> <tr> <td>ocp_version</td> <td>The OpenShift version. If you want to install <code>4.10</code>, specify <code>"4.10"</code></td> <td>Yes</td> <td>&gt;= 4.6</td> </tr> <tr> <td>cloud_native_toolkit</td> <td>Must the Cloud Native Toolkit (OpenShift GitOps) be installed?</td> <td>No</td> <td>True, False (default)</td> </tr> <tr> <td>oadp</td> <td>Must the OpenShift Advanced Data Protection operator be installed</td> <td>No</td> <td>True, False (default)</td> </tr> <tr> <td>infrastructure.type</td> <td>Type of OpenShift cluster</td> <td>Yes</td> <td>aro, self-managed</td> </tr> <tr> <td>infrastructure.multi_zone</td> <td>Specify if the cluster is provisioned in a single zone or 3 zones</td> <td>Yes</td> <td>True, False</td> </tr> <tr> <td>infrastructure.private_only</td> <td>Specify if the cluster is provisioned in a private virtual network, not allowed for ARO</td> <td>Yes</td> <td>True, False</td> </tr> <tr> <td>network</td> <td>Cluster network attributes</td> <td>Yes</td> <td></td> </tr> <tr> <td>network.machine_cidr</td> <td>CIDR of provisioned machines</td> <td>Yes</td> <td>Must be a minimum of /18 or larger.</td> </tr> <tr> <td>network.pod_cidr</td> <td>CIDR of pod network</td> <td>Yes</td> <td>Must be a minimum of /18 or larger.</td> </tr> <tr> <td>network.service_cidr</td> <td>CIDR of service network</td> <td>Yes</td> <td>Must be a minimum of /18 or larger.</td> </tr> <tr> <td>openshift_logging[]</td> <td>Logging attributes for OpenShift cluster, see <a href=../logging-auditing/ >OpenShift logging</a></td> <td>No</td> <td></td> </tr> <tr> <td>upstream_dns[]</td> <td>Upstream DNS servers(s), see <a href=../dns/ >Upstream DNS Servers</a></td> <td>No</td> <td></td> </tr> <tr> <td>gpu</td> <td>Control Node Feature Discovery and NVIDIA GPU operators</td> <td>No</td> <td></td> </tr> <tr> <td>gpu.install</td> <td>Must Node Feature Discovery and NVIDIA GPU operators be installed (Once installed, False does not uninstall). <code>auto</code> will install the operators if needed by any of the Cloud Pak/watsonx</td> <td>Yes</td> <td>auto, True, False</td> </tr> <tr> <td>openshift_ai</td> <td>Control installation of OpenShift AI</td> <td>No</td> <td></td> </tr> <tr> <td>openshift_ai.install</td> <td>Must OpenShift AI be installed (Once installed, False does not uninstall). <code>auto</code> will install OpenShift AI if needed by any of the Cloud Pak/watsonx components</td> <td>Yes</td> <td>auto, True, False</td> </tr> <tr> <td>openshift_ai.channel</td> <td>Which oeprator channel must be installed</td> <td>No</td> <td>auto (default), stable, &hellip;</td> </tr> <tr> <td>mcg</td> <td>Multicloud Object Gateway properties</td> <td>No</td> <td></td> </tr> <tr> <td>mcg.install</td> <td>Must Multicloud Object Gateway be installed (Once installed, False does not uninstall)</td> <td>Yes</td> <td>True, False</td> </tr> <tr> <td>mcg.storage_type</td> <td>Type of storage supporting the object Noobaa object storage</td> <td>Yes</td> <td>storage-class</td> </tr> <tr> <td>mcg.storage_class</td> <td>Storage class supporting the Noobaa object storage</td> <td>Yes</td> <td>Existing storage class</td> </tr> <tr> <td>openshift_storage[]</td> <td>List of storage definitions to be defined on OpenShift, see below for further explanation</td> <td>Yes</td> <td></td> </tr> </tbody> </table> <h5 id=openshift_storage---openshift-storage-definitions_5>openshift_storage[] - OpenShift storage definitions<a class=headerlink href=#openshift_storage---openshift-storage-definitions_5 title="Permanent link">ðŸ”—</a></h5> <table> <thead> <tr> <th>Property</th> <th>Description</th> <th>Mandatory</th> <th>Allowed values</th> </tr> </thead> <tbody> <tr> <td>openshift_storage[]</td> <td>List of storage definitions to be defined on OpenShift</td> <td>Yes</td> <td></td> </tr> <tr> <td>storage_name</td> <td>Name of the storage</td> <td>Yes</td> <td></td> </tr> <tr> <td>storage_type</td> <td>Type of storage class to create in the OpenShift cluster</td> <td>Yes</td> <td><code>odf</code> or <code>nfs</code></td> </tr> <tr> <td>dedicated_nodes</td> <td>Specify if dedicated nodes must be used for ODF</td> <td>No</td> <td><code>True</code>, <code>False</code></td> </tr> <tr> <td>odf_version</td> <td>Version of the ODF operator. If not specified, this will default to the <code>ocp_version</code></td> <td>No</td> <td></td> </tr> <tr> <td>odf_storage_label</td> <td>Label (or rather a name) to be used for the dedicated ODF nodes in the cluster - together with the combination of Azure location and zone id</td> <td>Yes if <code>storage_type</code> is <code>odf</code></td> <td></td> </tr> <tr> <td>odf_storage_size_gb</td> <td>Size of the ODF storage in Gibibytes (Gi)</td> <td>Yes if <code>storage_type</code> is <code>odf</code></td> <td></td> </tr> <tr> <td>odf_dynamic_storage_class</td> <td>Storage class that will be used for provisioning ODF. In Azure, you must select <code>managed-premium</code></td> <td>Yes if <code>storage_type</code> is <code>odf</code></td> <td><code>managed-premium</code></td> </tr> </tbody> </table> <h3 id=openshift-on-microsoft-azure---self-managed>OpenShift on Microsoft Azure - Self-managed<a class=headerlink href=#openshift-on-microsoft-azure---self-managed title="Permanent link">ðŸ”—</a></h3> <div class=highlight><pre><span></span><code>openshift:
- name: sample
  azure_name: sample
  domain_name: example.com
  ocp_version: 4.10.54
  cloud_native_toolkit: False
  oadp: False
  infrastructure:
    type: self-managed
    multi_zone: False
    private_only: False
  network:
    machine_cidr: &quot;10.0.0.0/16&quot;
    pod_cidr: &quot;10.128.0.0/14&quot;
    service_cidr: &quot;172.30.0.0/16&quot;
  gpu:
    install: auto
  openshift_ai:
    install: auto
    channel: auto
  openshift_storage:
  - storage_name: odf-storage
    storage_type: odf
    odf_storage_label: ocs
    odf_storage_size_gb: 512
    odf_dynamic_storage_class: managed-premium
</code></pre></div> <h4 id=property-explanation-for-openshift-cluster-on-microsoft-azure---self-managed>Property explanation for OpenShift cluster on Microsoft Azure - Self-managed<a class=headerlink href=#property-explanation-for-openshift-cluster-on-microsoft-azure---self-managed title="Permanent link">ðŸ”—</a></h4> <div class="admonition warning"> <p class=admonition-title>Warning</p> <p>You are not allowed to specify the OCP version of the ARO cluster. The latest current version is provisioned automatically instead no matter what value is specified in the "ocp_version" parameter. The "ocp_version" parameter is mandatory for compatibility with other layers of the provisioning, such as the OpenShift client. For instance, the value is used by the process which downloads and installs the <code>oc</code> client. Please, specify the value according to what OCP version will be provisioned.</p> </div> <table> <thead> <tr> <th>Property</th> <th>Description</th> <th>Mandatory</th> <th>Allowed values</th> </tr> </thead> <tbody> <tr> <td>name</td> <td>Name of the OpenShift cluster</td> <td>Yes</td> <td></td> </tr> <tr> <td>azure_name</td> <td>Name of the <code>azure</code> element in the configuration</td> <td>Yes</td> <td></td> </tr> <tr> <td>domain_name</td> <td>Domain mame of the cluster, if you want to override the name generated by Azure</td> <td>No</td> <td></td> </tr> <tr> <td>ocp_version</td> <td>The OpenShift version. If you want to install <code>4.10</code>, specify <code>"4.10"</code></td> <td>Yes</td> <td>&gt;= 4.6</td> </tr> <tr> <td>cloud_native_toolkit</td> <td>Must the Cloud Native Toolkit (OpenShift GitOps) be installed?</td> <td>No</td> <td>True, False (default)</td> </tr> <tr> <td>oadp</td> <td>Must the OpenShift Advanced Data Protection operator be installed</td> <td>No</td> <td>True, False (default)</td> </tr> <tr> <td>infrastructure.type</td> <td>Type of OpenShift cluster</td> <td>Yes</td> <td>aro, self-managed</td> </tr> <tr> <td>infrastructure.multi_zone</td> <td>Specify if the cluster is provisioned in a single zone or 3 zones</td> <td>Yes</td> <td>True, False</td> </tr> <tr> <td>infrastructure.private_only</td> <td>Specify if the cluster is provisioned in a private virtual network</td> <td>Yes</td> <td>True, False</td> </tr> <tr> <td>network</td> <td>Cluster network attributes</td> <td>Yes</td> <td></td> </tr> <tr> <td>network.machine_cidr</td> <td>CIDR of provisioned machines</td> <td>Yes</td> <td>Must be a minimum of /18 or larger.</td> </tr> <tr> <td>network.pod_cidr</td> <td>CIDR of pod network</td> <td>Yes</td> <td>Must be a minimum of /18 or larger.</td> </tr> <tr> <td>network.service_cidr</td> <td>CIDR of service network</td> <td>Yes</td> <td>Must be a minimum of /18 or larger.</td> </tr> <tr> <td>openshift_logging[]</td> <td>Logging attributes for OpenShift cluster, see <a href=../logging-auditing/ >OpenShift logging</a></td> <td>No</td> <td></td> </tr> <tr> <td>upstream_dns[]</td> <td>Upstream DNS servers(s), see <a href=../dns/ >Upstream DNS Servers</a></td> <td>No</td> <td></td> </tr> <tr> <td>gpu</td> <td>Control Node Feature Discovery and NVIDIA GPU operators</td> <td>No</td> <td></td> </tr> <tr> <td>gpu.install</td> <td>Must Node Feature Discovery and NVIDIA GPU operators be installed (Once installed, False does not uninstall). <code>auto</code> will install the operators if needed by any of the Cloud Pak/watsonx</td> <td>Yes</td> <td>auto, True, False</td> </tr> <tr> <td>openshift_ai</td> <td>Control installation of OpenShift AI</td> <td>No</td> <td></td> </tr> <tr> <td>openshift_ai.install</td> <td>Must OpenShift AI be installed (Once installed, False does not uninstall). <code>auto</code> will install OpenShift AI if needed by any of the Cloud Pak/watsonx components</td> <td>Yes</td> <td>auto, True, False</td> </tr> <tr> <td>openshift_ai.channel</td> <td>Which oeprator channel must be installed</td> <td>No</td> <td>auto (default), stable, &hellip;</td> </tr> <tr> <td>mcg</td> <td>Multicloud Object Gateway properties</td> <td>No</td> <td></td> </tr> <tr> <td>mcg.install</td> <td>Must Multicloud Object Gateway be installed (Once installed, False does not uninstall)</td> <td>Yes</td> <td>True, False</td> </tr> <tr> <td>mcg.storage_type</td> <td>Type of storage supporting the object Noobaa object storage</td> <td>Yes</td> <td>storage-class</td> </tr> <tr> <td>mcg.storage_class</td> <td>Storage class supporting the Noobaa object storage</td> <td>Yes</td> <td>Existing storage class</td> </tr> <tr> <td>openshift_storage[]</td> <td>List of storage definitions to be defined on OpenShift, see below for further explanation</td> <td>Yes</td> <td></td> </tr> </tbody> </table> <h5 id=openshift_storage---openshift-storage-definitions_6>openshift_storage[] - OpenShift storage definitions<a class=headerlink href=#openshift_storage---openshift-storage-definitions_6 title="Permanent link">ðŸ”—</a></h5> <table> <thead> <tr> <th>Property</th> <th>Description</th> <th>Mandatory</th> <th>Allowed values</th> </tr> </thead> <tbody> <tr> <td>openshift_storage[]</td> <td>List of storage definitions to be defined on OpenShift</td> <td>Yes</td> <td></td> </tr> <tr> <td>storage_name</td> <td>Name of the storage</td> <td>Yes</td> <td></td> </tr> <tr> <td>storage_type</td> <td>Type of storage class to create in the OpenShift cluster</td> <td>Yes</td> <td><code>odf</code> or <code>nfs</code></td> </tr> <tr> <td>dedicated_nodes</td> <td>Specify if dedicated nodes must be used for ODF</td> <td>No</td> <td><code>True</code>, <code>False</code></td> </tr> <tr> <td>odf_version</td> <td>Version of the ODF operator. If not specified, this will default to the <code>ocp_version</code></td> <td>No</td> <td></td> </tr> <tr> <td>odf_storage_label</td> <td>Label (or rather a name) to be used for the dedicated ODF nodes in the cluster - together with the combination of Azure location and zone id</td> <td>Yes if <code>storage_type</code> is <code>odf</code></td> <td></td> </tr> <tr> <td>odf_storage_size_gb</td> <td>Size of the ODF storage in Gibibytes (Gi)</td> <td>Yes if <code>storage_type</code> is <code>odf</code></td> <td></td> </tr> <tr> <td>odf_dynamic_storage_class</td> <td>Storage class that will be used for provisioning ODF. In Azure, you must select the storage class</td> <td></td> <td></td> </tr> </tbody> </table> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"annotate": null, "base": "../../..", "features": [], "search": "../../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src=../../../assets/javascripts/bundle.79ae519e.min.js></script> <script src=../../../js/open_in_new_tab.js></script> </body> </html>